const notyfy=new Notyf({dismissible:!0,ripple:!0,duration:6e3,position:{x:"right",y:"top"},types:[{className:"alert-message",type:"success"},{className:"alert-message",type:"error"}]});function getCookie(e){const t=`; ${document.cookie}`.split(`; ${e}=`);if(2===t.length)return t.pop().split(";").shift()}const subscribeToNews=()=>{const e=document.getElementById("newsletter-email"),t=document.getElementById("newsletter-email2"),a=document.getElementById("newsletter-join");var s=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;let o;e&&e.value&&e.value.match(s)&&(o=e.value),t&&t.value&&t.value.match(s)&&(o=t.value);const n={email:o};o?(a.disabled=!0,a.style.background="#4e6986",axios({method:"POST",url:"/api/subscribe",credentials:"same-origin",headers:{"CSRF-Token":getCookie("XSRF-TOKEN"),"Content-Type":"application/json",Accept:"application/json"},data:JSON.stringify(n)}).then(s=>{console.log(s),notyfy.success(s.data.data.message||"Success"),a.disabled=!1,a.style.background="#0d6bf0",o.value="";try{e.value=""}catch(e){}try{t.value=""}catch(e){}}).catch(e=>{console.log(e),notyfy.error(e.response.data.error.message||"Something went wrong"),a.disabled=!1,a.style.background="#0d6bf0",o.value=""})):notyfy.error("Please provide a valid email address")};
